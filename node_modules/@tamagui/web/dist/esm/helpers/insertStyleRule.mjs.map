{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","insertedTransforms","getAllSelectors","getAllRules","Object","values","getAllTransforms","addTransform","identifier","css","rule","s","indexOf","process","env","NODE_ENV","console","error","startI","endI","value","slice","listenForSheetChanges","MutationObserver","entries","entry","HTMLStyleElement","sheet","HTMLLinkElement","href","endsWith","scanAllSheets","observe","document","head","childList","lastScannedSheets","collectThemes","tokens","themes","sheets","styleSheets","prev","current","Set","sheet2","out","updateSheetStyles","has","track","id","remove","next","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","length","cacheKey","lastScanned","len","fails","dedupedThemes","i","CSSStyleRule","response","cssRule","isTheme","deduped","addThemesFromCSS","push","TAMAGUI_REACT_19","total","startsWith","cssText","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","key","color","token","name","val","sepI","varIndex","TAMAGUI_CSS_VARIABLE_PREFIX","replace","varName","tokenVal","getComputedStyle","body","getPropertyValue","names","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add","theme","text","getIdentifierFromTamaguiSelector","CSSMediaRule","dotIndex","updateRules","join","nonce","setNonce","_","insertStyleRules","rulesToInsert","styleTag","createElement","appendChild","styleObject","shouldInsertStyleRules","insertRule","err","minInsertAmt","TAMAGUI_INSERT_SELECTOR_TRIES","IS_STATIC","size","TAMAGUI_STYLE_INSERTION_WARNING_LIMIT","warn"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}