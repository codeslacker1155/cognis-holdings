{"version":3,"names":["useComposedRefs","useEvent","React","Fragment","jsx","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","bubbles","cancelable","FocusScope","forwardRef","props","forwardedRef","childProps","useFocusScope","children","cloneElement","Children","only","loop","enabled","trapped","onMountAutoFocus","onMountAutoFocusProp","onUnmountAutoFocus","onUnmountAutoFocusProp","forceUnmount","scopeProps","container","setContainer","useState","lastFocusedElementRef","useRef","composedRefs","node","startTransition","focusScope","paused","pause","resume","current","useEffect","controller","AbortController","handleFocusIn","event","target","contains","addEventListener","handleBlur","signal","focus","select","handleFocusOut","abort","relatedTarget","document","removeEventListener","focusScopesStack","add","previouslyFocusedElement","activeElement","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","candidates","removeLinks","getTabbableCandidates","focusFirst","unmountEvent","body","remove","handleKeyDown","useCallback","isTabKey","key","altKey","ctrlKey","metaKey","focusedElement","container2","currentTarget","first","last","getTabbableEdges","shiftKey","preventDefault","tabIndex","ref","onKeyDown","candidate","findVisible","reverse","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","type","disabled","hidden","FILTER_SKIP","FILTER_ACCEPT","nextNode","push","currentNode","elements","element","isHidden","upTo","getComputedStyle","visibility","display","parentElement","isSelectableInput","HTMLInputElement","preventScroll","createFocusScopesStack","stack","activeFocusScope","arrayRemove","unshift","array","item","updatedArray","index","indexOf","splice","items","filter"],"sources":["../../src/FocusScope.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}